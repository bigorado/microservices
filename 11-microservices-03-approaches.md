# Задача 1: Обеспечить разработку

Рекомендуется использовать следующее решение, состоящее из нескольких программных продуктов, чтобы обеспечить процесс разработки, хранение исходного кода, непрерывную интеграцию и непрерывную поставку:

1. Облачная система: GitLab CI/CD
   - GitLab CI/CD предоставляет облачную систему для управления процессом непрерывной интеграции и непрерывной поставки. Он интегрирован с системой контроля версий GitLab, что позволяет легко управлять проектами, репозиториями и настройками.

2. Система контроля версий Git: GitLab
   - GitLab предоставляет мощную систему контроля версий Git, которая обеспечивает эффективное хранение и управление исходным кодом проектов. Он интегрирован с GitLab CI/CD, что позволяет автоматизировать процесс сборки и развертывания.

3. Репозиторий на каждый сервис: GitLab репозитории
   - GitLab позволяет создавать репозитории для каждого сервиса или компонента проекта. Это позволяет управлять исходным кодом каждого сервиса независимо и обеспечивает надежность и масштабируемость разработки.

4. Запуск сборки по событию из системы контроля версий: GitLab CI/CD Pipelines
   - GitLab CI/CD Pipelines автоматически запускает сборку при обновлении кода в репозитории. События, такие как коммиты или создание пулл-реквестов, могут быть использованы для инициирования сборки.

5. Запуск сборки по кнопке с указанием параметров: GitLab CI/CD Jobs
   - GitLab CI/CD Jobs позволяет вручную запускать сборку с указанием параметров, таких как ветка, тег или другие настройки, через интерфейс GitLab.

6. Возможность привязать настройки к каждой сборке: GitLab CI/CD конфигурационный файл (.gitlab-ci.yml)
   - GitLab CI/CD использует файл конфигурации .gitlab-ci.yml, который позволяет привязывать настройки к каждой сборке. Это включает в себя выбор используемого образа Docker, определение шагов сборки, запуск кастомных скриптов и другие параметры.

7. Возможность создания шаблонов для различных конфигураций сборок: GitLab CI/CD Templates
   - GitLab CI/CD Templates позволяет создавать шаблоны для различных конфигураций сборок. Это упрощает и стандартизирует процесс настройки сборок и повышает повторное использование кода конфигурации.

8. Возможность безопасного хранения секретных данных: GitLab CI/CD Variables
   - GitLab CI/CD Variables позволяет безопасно хранить секретные данные, такие как пароли или ключи доступа. Эти переменные могут быть использованы в настройках сборки и могут быть зашифрованы и доступны только авторизованным пользователям.
  
9. (продолжение) Несколько конфигураций для сборки из одного репозитория: GitLab CI/CD Stages и Jobs
   - GitLab CI/CD позволяет определить несколько стадий (stages) и заданий (jobs) в конфигурационном файле .gitlab-ci.yml. Это позволяет организовать последовательную или параллельную сборку и развертывание различных компонентов проекта из одного репозитория.

10. Кастомные шаги при сборке: GitLab CI/CD Scripts
   - GitLab CI/CD Scripts позволяет определить кастомные шаги сборки, которые могут включать в себя выполнение различных команд, установку зависимостей, запуск тестов, сборку и развертывание приложения и другие действия, необходимые для процесса разработки.

11. Собственные Docker-образы для сборки проектов: GitLab CI/CD Docker Executor
   - GitLab CI/CD поддерживает использование Docker-образов в качестве исполнителей для сборки проектов. Это позволяет создавать и использовать собственные Docker-образы, содержащие необходимые зависимости и инструменты для сборки проектов.

12. Возможность развернуть агентов сборки на собственных серверах: GitLab Runner
   - GitLab Runner позволяет развернуть агенты сборки на собственных серверах. Агенты могут быть настроены для обработки сборок и развертывания на локальных машинах, виртуальных машинах или в облаке, обеспечивая гибкость и масштабируемость в процессе разработки.

13. Возможность параллельного запуска нескольких сборок: GitLab CI/CD Parallel Jobs
   - GitLab CI/CD позволяет запускать несколько сборок параллельно, что ускоряет процесс разработки. Можно настроить количество параллельных заданий и распределить их на доступные агенты сборки.

14. Возможность параллельного запуска тестов: GitLab CI/CD Parallel Jobs
   - GitLab CI/CD также поддерживает параллельный запуск тестов, что позволяет ускорить процесс проверки качества и обеспечить более быструю обратную связь для разработчиков.

Обоснование выбора:
GitLab CI/CD сочетает в себе широкий набор функций и инструментов, которые полностью удовлетворяют требованиям, представленным в задании. Он обеспечивает удобство работы с системой контроля версий GitLab, позволяет настроить сборки по событиям или вручную, предоставляет возможность настройки шаблонов и конфигураций сборок, поддерживает безопасное хранение секретных данных и позволяет использовать кастомные шаги и собственные Docker-образы. GitLab CI/CD также предоставляет возможность развертывания агентов сборки на собственных серверах и поддерживает параллельный запуск сборок и тестов для повышения эффективности процесса разработки.Все это делает GitLab CI/CD мощным и гибким инструментом для автоматизации сборки, тестирования и развертывания проектов. Он позволяет разработчикам ускорить цикл разработки, обеспечивая надежную и повторяемую среду для сборки и развертывания приложений.
GitLab CI/CD также обладает интеграцией с другими инструментами и сервисами, такими как регистр контейнеров, системы мониторинга, системы управления задачами и др. Это позволяет создавать сложные и автоматизированные процессы разработки и развертывания, упрощая жизнь разработчиков и повышая эффективность работы команды.
Кроме того, GitLab CI/CD предоставляет удобный интерфейс для отслеживания результатов сборок, тестов и развертывания, а также мощные инструменты для анализа и отчетности. Это позволяет командам быстро обнаруживать и исправлять проблемы, а также повышать качество и надежность разрабатываемых приложений.
В целом, GitLab CI/CD является надежным и гибким инструментом для автоматизации процессов разработки и развертывания. Он обладает всем необходимым функционалом для создания сложных и эффективных рабочих процессов, а также удобным интерфейсом и интеграцией с другими инструментами.

# Задача 2: Логи

Для обеспечения сбора и анализа логов сервисов в микросервисной архитектуре предлагается использовать следующее решение:

1. Лог-агрегатор: Elasticsearch
   - Elasticsearch является мощным и масштабируемым поисковым и аналитическим движком, который может использоваться для сбора и хранения логов. Он обладает возможностью горизонтального масштабирования и обработки больших объемов данных. Elasticsearch также предоставляет удобные API для поиска и фильтрации записей логов.

2. Лог-сборщик: Filebeat
   - Filebeat является легковесным агентом, который может быть развернут на хостах, обслуживающих систему. Он отслеживает и собирает лог-файлы из различных источников, включая stdout приложений, и отправляет их в центральное хранилище Elasticsearch. Filebeat обеспечивает гарантированную доставку логов и может быть настроен для фильтрации и обогащения собранных данных.

3. Визуализация и пользовательский интерфейс: Kibana
   - Kibana является инструментом для визуализации и анализа данных, хранящихся в Elasticsearch. Он предоставляет графический интерфейс, который позволяет разработчикам и операторам системы искать, фильтровать и анализировать записи логов. Кроме того, Kibana позволяет создавать сохраненные поиски и предоставлять ссылки на них для облегчения доступа к определенным запросам или фильтрам.

Обоснование выбора:
Данное решение соответствует всем указанным требованиям. Elasticsearch обеспечивает хранение и индексацию логов, а также поиск и фильтрацию данных. Filebeat позволяет собирать логи из различных источников, включая stdout приложений, и передавать их в Elasticsearch с гарантированной доставкой. Kibana предоставляет удобный пользовательский интерфейс для поиска и анализа записей логов, а также возможность создания сохраненных поисков и предоставления ссылок на них.
Такое решение обладает высокой гибкостью и масштабируемостью, позволяя легко добавлять новые хосты и сервисы в микросервисную архитектуру. Кроме того, Elasticsearch, Filebeat и Kibana являются популярными и широко используемыми инструментами с открытым исходным кодом, что обеспечивает поддержку и активное развитие со стороны сообщества разработчиков.

# Задача 3: Мониторинг

Для обеспечения сбора и анализа состояния хостов и сервисов в микросервисной архитектуре предлагается использовать следующее решение:

1. Система мониторинга: Prometheus
   - Prometheus является мощной системой мониторинга с открытым исходным кодом, разработанной специально для сбора и хранения метрик. Он предоставляет возможность собирать метрики со всех хостов и сервисов в системе. Prometheus обладает гибким языком запросов PromQL для агрегирования и фильтрации метрик, а также предоставляет удобный интерфейс для визуализации данных.

2. Экспортеры: Node Exporter и Service-specific Exporters
   - Node Exporter является комонентом Prometheus, который собирает метрики состояния ресурсов хостов, такие как CPU, RAM, HDD и Network. Он предоставляет экспортированные метрики в формате, понятном Prometheus.
   - Service-specific Exporters являются компонентами, специфичными для каждого сервиса, и отвечают за сбор метрик, потребляемых ресурсов и специфичных для данного сервиса. Они предоставляют экспортированные метрики в формате, понятном Prometheus.

3. Визуализация и пользовательский интерфейс: Grafana
   - Grafana является инструментом для визуализации и анализа данных, совместимым с Prometheus. Он позволяет создавать пользовательские панели и дашборды для отслеживания состояния системы на основе собранных метрик. Grafana предоставляет гибкие возможности настройки и агрегации данных, а также позволяет делать запросы к данным и создавать пользовательские панели для отображения нужной информации.

Обоснование выбора:
Данное решение соответствует всем указанным требованиям. Prometheus обеспечивает сбор и хранение метрик со всех хостов и сервисов. Node Exporter и Service-specific Exporters позволяют собирать метрики состояния ресурсов хостов, потребляемых ресурсов для каждого сервиса и специфичных для сервисов. Grafana предоставляет удобный пользовательский интерфейс для визуализации и анализа данных, а также возможность настройки панелей для отслеживания состояния системы.
Такое решение обладает высокой гибкостью и масштабируемостью, позволяя легко добавлять новые хосты и сервисы в микросервисную архитектуру. Кроме того, Prometheus и Grafana являются популярными и широко используемыми инструментами с открытым исходным кодом, что обеспечивает поддержку и активное развитие со стороны сообщества разработчиков.
